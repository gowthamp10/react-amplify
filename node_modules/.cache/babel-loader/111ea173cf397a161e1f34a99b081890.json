{"ast":null,"code":"import _defineProperty from\"/home/ubuntu/Documents/BankingAppFinal/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/ubuntu/Documents/BankingAppFinal/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/ubuntu/Documents/BankingAppFinal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import Header from\"./Header\";import SearchAccount from\"./SearchAccount\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function EditCustomer(){var navigate=useNavigate();var _useState=useState({\"found\":false,\"accno\":\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),netbanking=_useState4[0],setNetbanking=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),customer=_useState6[0],setCustomer=_useState6[1];var handleInput=function handleInput(e){setCustomer(_objectSpread(_objectSpread({},customer),{},_defineProperty({},e.target.name,e.target.value)));};var handleChange=function handleChange(e){//console.log(e.target.checked)\ncustomer.netbanking=e.target.checked;setNetbanking(e.target.checked);};var handleSubmit=function handleSubmit(e){e.preventDefault();customer.accno=data.accno;console.log(\"customer-\",customer);axios.put(\"http://localhost:8090/api/accounts/\"+data.accno,customer).then(function(resp){navigate('/accounts');}).catch(function(err){console.log(err);});};useEffect(function(){console.log(data);axios.get(\"http://localhost:8090/api/accounts/\"+data.accno).then(function(resp){var info=resp.data.data;console.log(\"data from api\",info);setCustomer(info===null||info===void 0?void 0:info.customer);setNetbanking(info===null||info===void 0?void 0:info.netbanking);}).catch(function(err){console.log(err);});},[data]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-10\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-left p-2 border-bottom border-success\",style:{color:\"white\"},children:\"Know Your Customer\"}),/*#__PURE__*/_jsx(SearchAccount,{setData:setData}),/*#__PURE__*/_jsx(\"div\",{children:data.found?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"div\",{className:\"card shadow\",style:{backgroundColor:\"#28275C\",color:\"white\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2\",children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cname\",value:customer===null||customer===void 0?void 0:customer.cname,onChange:handleInput,className:\"form-control form-control-sm\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2\",children:\"Address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",value:customer===null||customer===void 0?void 0:customer.address,onChange:handleInput,className:\"form-control form-control-sm\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2\",children:\"Gender\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"gender\",value:customer===null||customer===void 0?void 0:customer.gender,onChange:handleInput,className:\"form-control form-control-sm\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",maxLength:\"10\",name:\"phone\",value:customer===null||customer===void 0?void 0:customer.phone,onChange:handleInput,className:\"form-control form-control-sm\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2\",children:\"Email Id\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:customer===null||customer===void 0?void 0:customer.email,onChange:handleInput,className:\"form-control form-control-sm\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2\",for:\"nb\",children:\"Net Banking\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"nb\",name:\"netbanking\",checked:netbanking,onChange:handleChange})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"col-sm-2 btn btn-primary btn-sm float-right\",children:\"Update\"})]})})})}):\"\"})]})})})]});}export default EditCustomer;","map":{"version":3,"sources":["/home/ubuntu/Documents/BankingAppFinal/src/components/EditCustomer.js"],"names":["axios","useEffect","useState","useNavigate","Header","SearchAccount","EditCustomer","navigate","data","setData","netbanking","setNetbanking","customer","setCustomer","handleInput","e","target","name","value","handleChange","checked","handleSubmit","preventDefault","accno","console","log","put","then","resp","catch","err","get","info","color","found","backgroundColor","cname","address","gender","phone","email"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport SearchAccount from \"./SearchAccount\";\r\n\r\n\r\nfunction EditCustomer(){\r\n    const navigate=useNavigate()\r\n    const [data,setData]=useState({\r\n        \"found\":false,\r\n        \"accno\":\"\"\r\n    })\r\n    const [netbanking,setNetbanking]=useState(false)\r\n    const [customer,setCustomer]=useState({})\r\n\r\n    const handleInput=(e)=>{\r\n        setCustomer({...customer,[e.target.name]:e.target.value})        \r\n    }\r\n\r\n    const handleChange=(e)=>{\r\n        //console.log(e.target.checked)\r\n        customer.netbanking=e.target.checked;\r\n        setNetbanking(e.target.checked)\r\n    }\r\n\r\n    const handleSubmit=e=>{\r\n        e.preventDefault()\r\n        customer.accno=data.accno\r\n        console.log(\"customer-\",customer)\r\n        axios.put(\"http://localhost:8090/api/accounts/\"+data.accno,customer)\r\n        .then(resp=>{                        \r\n            navigate('/accounts')\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        console.log(data)\r\n        axios.get(\"http://localhost:8090/api/accounts/\"+data.accno)\r\n        .then(resp=>{\r\n            const info=resp.data.data;\r\n            console.log(\"data from api\",info)\r\n            setCustomer(info?.customer)  \r\n            setNetbanking(info?.netbanking)        \r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    },[data])\r\n\r\n    return(\r\n        <>\r\n        <Header/>\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                \r\n                <div className=\"col-sm-10\">\r\n                    <h4 className=\"text-left p-2 border-bottom border-success\" style={{color:\"white\"}}>Know Your Customer</h4>\r\n                    <SearchAccount setData={setData} />\r\n                    <div >\r\n                    { data.found  ? (<>\r\n                        <form onSubmit={handleSubmit} >\r\n                            <div className=\"card shadow\" style={{backgroundColor:\"#28275C\",color:\"white\"}}>\r\n                                <div className=\"card-body\">\r\n                            <div className=\"form-row form-group\">\r\n                                <label className=\"col-sm-2\">Customer Name</label>\r\n                                <div className=\"col-3\">\r\n                                    <input type=\"text\" name=\"cname\" value={customer?.cname} onChange={handleInput} className=\"form-control form-control-sm\" />\r\n                                </div>\r\n                                <label className=\"col-sm-2\">Address</label>\r\n                                <div className=\"col-3\">\r\n                                    <input type=\"text\" name=\"address\" value={customer?.address} onChange={handleInput} className=\"form-control form-control-sm\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-row form-group\">\r\n                                <label className=\"col-sm-2\">Gender</label>\r\n                                <div className=\"col-3\">\r\n                                    <input type=\"text\" name=\"gender\" value={customer?.gender} onChange={handleInput} className=\"form-control form-control-sm\" />\r\n                                </div>\r\n                                <label className=\"col-sm-2\">Phone</label>\r\n                                <div className=\"col-3\">\r\n                                    <input type=\"text\" maxLength=\"10\" name=\"phone\" value={customer?.phone} onChange={handleInput} className=\"form-control form-control-sm\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-row form-group\">\r\n                                <label className=\"col-sm-2\">Email Id</label>\r\n                                <div className=\"col-3\">\r\n                                    <input type=\"email\" name=\"email\" value={customer?.email} onChange={handleInput} className=\"form-control form-control-sm\" />\r\n                                </div>\r\n                                <label className=\"col-sm-2\" for=\"nb\">Net Banking</label>\r\n                                <div className=\"col-3\">\r\n                                    <input type=\"checkbox\" id=\"nb\" name=\"netbanking\" checked={netbanking} onChange={handleChange} />\r\n                                </div>\r\n                            </div>\r\n                            <button type=\"submit\" className=\"col-sm-2 btn btn-primary btn-sm float-right\">Update</button>\r\n                            </div>\r\n                            </div>\r\n                        </form>\r\n                    </>):\"\"}\r\n                </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default EditCustomer;"]},"metadata":{},"sourceType":"module"}