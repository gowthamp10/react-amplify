{"ast":null,"code":"import _defineProperty from\"/home/ubuntu/Documents/BankingAppFinal/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/ubuntu/Documents/BankingAppFinal/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/ubuntu/Documents/BankingAppFinal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import moment from\"moment\";import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import Header from\"./Header\";import SearchAccount from\"./SearchAccount\";import SideBar from\"./SideBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Transfer(){var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),submit=_useState2[0],setSubmit=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),recname=_useState4[0],setRecname=_useState4[1];var _useState5=useState({\"found\":false,\"accno\":\"\"}),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState({\"accno\":\"\",\"tdate\":moment(new Date()).format(\"YYYY-MM-DD\"),\"amount\":\"\",\"recacc\":\"\",\"recname\":\"\"}),_useState8=_slicedToArray(_useState7,2),tran=_useState8[0],setTran=_useState8[1];var handleInput=function handleInput(e){setTran(_objectSpread(_objectSpread({},tran),{},_defineProperty({},e.target.name,e.target.value)));};var handleSearch=function handleSearch(e){console.log(\"Search for \"+e.target.value);axios.get(\"http://localhost:8090/api/accounts/\"+e.target.value).then(function(resp){var info=resp.data;if(info.data!=undefined){console.log(info.data.customer.cname);setRecname(info.data.customer.cname);}else{setRecname(\"\");}});};var handleSubmit=function handleSubmit(e){e.preventDefault();setSubmit(true);};useEffect(function(){console.log(data);if(submit){tran.accno=data.accno;console.log(tran);axios.post(\"http://localhost:8090/api/accounts/transfer\",tran).then(function(resp){console.log(resp.data);navigate('/accounts');}).catch(function(err){console.log(err);});}},[data,submit]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-2 bg-transparent p-0 border-right border-primary\",style:{height:\"calc(100vh - 80px)\"},children:/*#__PURE__*/_jsx(SideBar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-10\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-left p-2 border-bottom border-success\",children:\"Transfer\"}),/*#__PURE__*/_jsx(SearchAccount,{setData:setData}),data.found?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"p-2\",children:\"Transfer Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Transaction Date\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",required:true,name:\"tdate\",value:tran.tdate,onChange:handleInput,className:\"form-control\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Transfer Amount\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",required:true,name:\"amount\",value:tran.amount,onChange:handleInput,className:\"form-control\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Receiver's Account\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"recacc\",required:true,name:\"recacc\",onBlur:handleSearch,value:tran.recacc,onChange:handleInput,className:\"form-control\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Receiver's Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",readOnly:true,value:recname,name:\"recname\",className:\"form-control\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"col-sm-2 btn btn-primary float-right\",children:\"Transfer Now\"})]})]})})]})}):\"\"]})]})})]});}export default Transfer;","map":{"version":3,"sources":["/home/ubuntu/Documents/BankingAppFinal/src/components/Transfer.js"],"names":["axios","moment","useEffect","useState","useNavigate","Header","SearchAccount","SideBar","Transfer","navigate","submit","setSubmit","recname","setRecname","data","setData","Date","format","tran","setTran","handleInput","e","target","name","value","handleSearch","console","log","get","then","resp","info","undefined","customer","cname","handleSubmit","preventDefault","accno","post","catch","err","height","found","tdate","amount","recacc"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport SearchAccount from \"./SearchAccount\";\r\nimport SideBar from \"./SideBar\";\r\n\r\nfunction Transfer(){\r\n    const navigate=useNavigate()\r\n    const [submit,setSubmit]=useState(false)\r\n    const [recname,setRecname]=useState(\"\")\r\n    const [data,setData]=useState({\r\n        \"found\":false,\r\n        \"accno\":\"\"\r\n    })\r\n\r\n    const [tran,setTran]=useState({\r\n        \"accno\":\"\",\r\n        \"tdate\": moment(new Date()).format(\"YYYY-MM-DD\"),\r\n        \"amount\":\"\",\r\n        \"recacc\":\"\",\r\n        \"recname\":\"\"\r\n    })\r\n\r\n    const handleInput=(e)=>{\r\n        setTran({...tran,[e.target.name]:e.target.value})        \r\n    }\r\n\r\n    const handleSearch=e=>{\r\n        console.log(\"Search for \"+e.target.value)\r\n        axios.get(\"http://localhost:8090/api/accounts/\"+e.target.value)\r\n        .then(resp=>{\r\n            let info=resp.data;\r\n            if(info.data!=undefined){\r\n                console.log(info.data.customer.cname)\r\n                setRecname(info.data.customer.cname)\r\n            }else{\r\n                setRecname(\"\")\r\n            }\r\n        })\r\n        \r\n    }\r\n\r\n    const handleSubmit=e=>{\r\n        e.preventDefault()\r\n        setSubmit(true)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        console.log(data)\r\n        if(submit){\r\n            tran.accno=data.accno\r\n            console.log(tran)\r\n            axios.post(\"http://localhost:8090/api/accounts/transfer\",tran)\r\n            .then(resp=>{\r\n                console.log(resp.data)\r\n                navigate('/accounts')\r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n        }\r\n    },[data,submit])\r\n\r\n    return(\r\n        <>\r\n        <Header/>\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-sm-2 bg-transparent p-0 border-right border-primary\" style={{height:\"calc(100vh - 80px)\"}}>\r\n                    <SideBar />\r\n                </div>\r\n                <div className=\"col-sm-10\">\r\n                    <h4 className=\"text-left p-2 border-bottom border-success\">Transfer</h4>\r\n                    <SearchAccount setData={setData} />\r\n\r\n                    { data.found  ? (<>\r\n                        <div className=\"card shadow\">\r\n                            <h5 className=\"p-2\">Transfer Details</h5>\r\n                <div className=\"card-body\">\r\n                        <form onSubmit={handleSubmit}>\r\n                            <div className=\"form-row form-group\">\r\n                                <label className=\"col-sm-2 col-form-label\">Transaction Date</label>\r\n                                <div className=\"col-3\">\r\n                                    <input type=\"date\" required name=\"tdate\" value={tran.tdate} onChange={handleInput} className=\"form-control\" />\r\n                                </div>\r\n                                <label className=\"col-sm-2 col-form-label\">Transfer Amount</label>\r\n                                <div className=\"col-3\">\r\n                                    <input type=\"number\" min=\"1\" required name=\"amount\" value={tran.amount} onChange={handleInput} className=\"form-control\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-row form-group\">\r\n                                <label className=\"col-sm-2 col-form-label\">Receiver's Account</label>\r\n                                <div className=\"col-3\">\r\n                                    <input type=\"text\" id=\"recacc\" required name=\"recacc\" onBlur={handleSearch} value={tran.recacc} onChange={handleInput} className=\"form-control\" />\r\n                                </div>\r\n                                <label className=\"col-sm-2 col-form-label\">Receiver's Name</label>\r\n                                <div className=\"col-3\">\r\n                                    <input type=\"text\" readOnly value={recname} name=\"recname\" className=\"form-control\" />\r\n                                </div>\r\n                                <button className=\"col-sm-2 btn btn-primary float-right\">Transfer Now</button>\r\n                            </div>\r\n                        </form>\r\n                        </div>\r\n                        </div>\r\n                    </>):\"\"}\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Transfer;"]},"metadata":{},"sourceType":"module"}