{"ast":null,"code":"import _defineProperty from\"/home/ubuntu/Documents/BankingAppFinal/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/ubuntu/Documents/BankingAppFinal/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/ubuntu/Documents/BankingAppFinal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import Header from\"./Header\";import SearchAccount from\"./SearchAccount\";import SideBar from\"./SideBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function UpdateInfo(){var navigate=useNavigate();var _useState=useState({\"found\":false,\"accno\":\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),netbanking=_useState4[0],setNetbanking=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),customer=_useState6[0],setCustomer=_useState6[1];var handleInput=function handleInput(e){setCustomer(_objectSpread(_objectSpread({},customer),{},_defineProperty({},e.target.name,e.target.value)));};var handleChange=function handleChange(e){//console.log(e.target.checked)\ncustomer.netbanking=e.target.checked;setNetbanking(e.target.checked);};var handleSubmit=function handleSubmit(e){e.preventDefault();customer.accno=data.accno;console.log(\"customer-\",customer);axios.put(\"http://localhost:8090/api/accounts/\"+data.accno,customer).then(function(resp){navigate('/accounts');}).catch(function(err){console.log(err);});};useEffect(function(){console.log(\"effect-line-53-\",data);axios.get(\"http://localhost:8090/api/accounts/\"+data.accno).then(function(resp){var info=resp.data.data;console.log(\"data from api\",info);setCustomer(info===null||info===void 0?void 0:info.customer);setNetbanking(info===null||info===void 0?void 0:info.netbanking);}).catch(function(err){console.log(err);});},[data]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-10\",children:[/*#__PURE__*/_jsx(SearchAccount,{setData:setData}),data.found?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"div\",{className:\"card shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2\",children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cname\",value:customer===null||customer===void 0?void 0:customer.cname,onChange:handleInput,className:\"form-control form-control-sm\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2\",children:\"Address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",value:customer===null||customer===void 0?void 0:customer.address,onChange:handleInput,className:\"form-control form-control-sm\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2\",children:\"Gender\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"gender\",value:customer===null||customer===void 0?void 0:customer.gender,onChange:handleInput,className:\"form-control form-control-sm\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",maxLength:\"10\",name:\"phone\",value:customer===null||customer===void 0?void 0:customer.phone,onChange:handleInput,className:\"form-control form-control-sm\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2\",children:\"Email Id\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:customer===null||customer===void 0?void 0:customer.email,onChange:handleInput,className:\"form-control form-control-sm\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2\",for:\"nb\",children:\"Net Banking\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"nb\",name:\"netbanking\",checked:netbanking,onChange:handleChange})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"col-sm-2 btn btn-primary btn-sm float-right\",children:\"Update Information\"})]})})})}):\"\"]})})})]});}export default UpdateInfo;","map":{"version":3,"sources":["/home/ubuntu/Documents/BankingAppFinal/src/components/UpdateInfo.js"],"names":["axios","useEffect","useState","useNavigate","Header","SearchAccount","SideBar","UpdateInfo","navigate","data","setData","netbanking","setNetbanking","customer","setCustomer","handleInput","e","target","name","value","handleChange","checked","handleSubmit","preventDefault","accno","console","log","put","then","resp","catch","err","get","info","found","cname","address","gender","phone","email"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport SearchAccount from \"./SearchAccount\";\nimport SideBar from \"./SideBar\";\n\nfunction UpdateInfo(){\n    const navigate=useNavigate()\n    const [data,setData]=useState({\n        \"found\":false,\n        \"accno\":\"\"\n    })\n    const [netbanking,setNetbanking]=useState(false)\n    const [customer,setCustomer]=useState({})\n\n    const handleInput=(e)=>{\n        setCustomer({...customer,[e.target.name]:e.target.value})        \n    }\n\n    const handleChange=(e)=>{\n        //console.log(e.target.checked)\n        customer.netbanking=e.target.checked;\n        setNetbanking(e.target.checked)\n    }\n\n    const handleSubmit=e=>{\n        e.preventDefault()\n        customer.accno=data.accno\n        console.log(\"customer-\",customer)\n        axios.put(\"http://localhost:8090/api/accounts/\"+data.accno,customer)\n        .then(resp=>{                        \n            navigate('/accounts')\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    useEffect(()=>{\n        console.log(\"effect-line-53-\",data)\n        axios.get(\"http://localhost:8090/api/accounts/\"+data.accno)\n        .then(resp=>{\n            const info=resp.data.data;\n            console.log(\"data from api\",info)\n            setCustomer(info?.customer)  \n            setNetbanking(info?.netbanking)        \n        }).catch(err=>{\n            console.log(err)\n        })\n    },[data])\n\n    return(\n        <>\n        <Header/>\n        <div className=\"container-fluid\">\n            <div className=\"row\">\n                \n                <div className=\"col-sm-10\">\n                    <SearchAccount setData={setData} />\n\n                    { data.found  ? (<>\n                        <form onSubmit={handleSubmit}>\n                            <div className=\"card shadow\">\n                                <div className=\"card-body\">\n                            <div className=\"form-row form-group\">\n                                <label className=\"col-sm-2\">Customer Name</label>\n                                <div className=\"col-3\">\n                                    <input type=\"text\" name=\"cname\" value={customer?.cname} onChange={handleInput} className=\"form-control form-control-sm\" />\n                                </div>\n                                <label className=\"col-sm-2\">Address</label>\n                                <div className=\"col-3\">\n                                    <input type=\"text\" name=\"address\" value={customer?.address} onChange={handleInput} className=\"form-control form-control-sm\" />\n                                </div>\n                            </div>\n                            <div className=\"form-row form-group\">\n                                <label className=\"col-sm-2\">Gender</label>\n                                <div className=\"col-3\">\n                                    <input type=\"text\" name=\"gender\" value={customer?.gender} onChange={handleInput} className=\"form-control form-control-sm\" />\n                                </div>\n                                <label className=\"col-sm-2\">Phone</label>\n                                <div className=\"col-3\">\n                                    <input type=\"text\" maxLength=\"10\" name=\"phone\" value={customer?.phone} onChange={handleInput} className=\"form-control form-control-sm\" />\n                                </div>\n                            </div>\n                            <div className=\"form-row form-group\">\n                                <label className=\"col-sm-2\">Email Id</label>\n                                <div className=\"col-3\">\n                                    <input type=\"email\" name=\"email\" value={customer?.email} onChange={handleInput} className=\"form-control form-control-sm\" />\n                                </div>\n                                <label className=\"col-sm-2\" for=\"nb\">Net Banking</label>\n                                <div className=\"col-3\">\n                                    <input type=\"checkbox\" id=\"nb\" name=\"netbanking\" checked={netbanking} onChange={handleChange} />\n                                </div>\n                            </div>\n                            <button type=\"submit\" className=\"col-sm-2 btn btn-primary btn-sm float-right\">Update Information</button>\n                            </div>\n                            </div>\n                        </form>\n                    </>):\"\"}\n                </div>\n            </div>\n        </div>\n        </>\n    )\n}\n\nexport default UpdateInfo;"]},"metadata":{},"sourceType":"module"}