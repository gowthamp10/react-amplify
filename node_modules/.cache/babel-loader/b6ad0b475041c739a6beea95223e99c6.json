{"ast":null,"code":"import _slicedToArray from\"/home/ubuntu/Documents/BankingAppFinal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SearchAccount(_ref){var setData=_ref.setData;console.log(\"DatasetData\",setData);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),found=_useState4[0],setFound=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),err=_useState6[0],setErr=_useState6[1];var _useState7=useState({\"accno\":\"\",\"actype\":\"\",\"cname\":\"\",\"address\":\"\",\"balance\":\"\",\"active\":\"\",\"photo\":\"\",\"sign\":\"\"}),_useState8=_slicedToArray(_useState7,2),account=_useState8[0],setAccount=_useState8[1];var handleSearch=function handleSearch(e){if(search.length>0){axios.get(\"http://localhost:8090/api/accounts/\"+search).then(function(resp){console.log(\"search result\",resp.data);if(resp.data.data!=undefined){setFound(true);console.log(resp.data.data);var data=resp.data.data;setAccount({\"accno\":data.accno,\"cname\":data.customer.cname,\"address\":data.customer.address,\"balance\":data.balance,\"actype\":data.actype,\"photo\":data.customer.photo,\"active\":data.active?\"Yes\":\"No\"});setData({\"found\":true,\"accno\":data.accno});}else{setErr(\"Invalid account number\");setFound(false);}}).catch(function(error){setErr(\"Invalid account number\");setFound(false);});}};var handleInput=function handleInput(e){setSearch(e.target.value);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:{paddingLeft:\"20px\"},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group form-inline\",children:[/*#__PURE__*/_jsx(\"label\",{style:{color:\"white\"},children:\"Account No: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",pattern:\"[0-9]{5,10}\",value:search,onChange:handleInput,className:\"form-control ml-2\",name:\"accno\",placeholder:\"Account Number\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSearch,className:\"btn btn-primary ml-2\",children:\"Search\"})]}),found?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card shadow\",style:{backgroundColor:\"#28275C\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{rowSpan:\"3\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Account No\"}),/*#__PURE__*/_jsx(\"th\",{children:account.accno}),/*#__PURE__*/_jsx(\"th\",{children:\"Account Type\"}),/*#__PURE__*/_jsx(\"th\",{children:account.actype})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"th\",{children:account.cname}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:account.address})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Available Balance\"}),/*#__PURE__*/_jsxs(\"th\",{children:[\"\\u20B9 \",account.balance]}),/*#__PURE__*/_jsx(\"th\",{children:\"Active\"}),/*#__PURE__*/_jsx(\"th\",{children:account.active})]})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\"})]}):/*#__PURE__*/_jsx(\"h5\",{className:\"text-danger\",children:err})]})});}export default SearchAccount;","map":{"version":3,"sources":["/home/ubuntu/Documents/BankingAppFinal/src/components/SearchAccount.js"],"names":["axios","useState","SearchAccount","setData","console","log","search","setSearch","found","setFound","err","setErr","account","setAccount","handleSearch","e","length","get","then","resp","data","undefined","accno","customer","cname","address","balance","actype","photo","active","catch","error","handleInput","target","value","paddingLeft","color","backgroundColor"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\n\r\nfunction SearchAccount({setData}){\r\n    console.log(\"DatasetData\",setData)\r\n    const [search,setSearch]=useState(\"\")\r\n    const [found,setFound]=useState(false)\r\n    const [err,setErr]=useState(\"\")\r\n    const [account,setAccount]=useState({\r\n        \"accno\":\"\",\r\n        \"actype\":\"\",\r\n        \"cname\":\"\",\r\n        \"address\":\"\",\r\n        \"balance\":\"\",\r\n        \"active\":\"\",\r\n        \"photo\":\"\",\r\n        \"sign\":\"\"\r\n    })\r\n    const handleSearch=e=>{\r\n        \r\n        if(search.length>0){\r\n            axios.get(\"http://localhost:8090/api/accounts/\"+search)\r\n            .then(resp=>{\r\n                console.log(\"search result\",resp.data)\r\n                if(resp.data.data!=undefined){\r\n                    setFound(true)\r\n                    console.log(resp.data.data)\r\n                    let data=resp.data.data;                    \r\n                    setAccount({\r\n                        \"accno\":data.accno,\r\n                        \"cname\":data.customer.cname,\r\n                        \"address\":data.customer.address,\r\n                        \"balance\":data.balance,\r\n                        \"actype\":data.actype,\r\n                        \"photo\":data.customer.photo,\r\n                        \"active\":data.active?\"Yes\":\"No\"\r\n                    })\r\n                    setData({\"found\":true,\"accno\":data.accno})                                       \r\n                }else{\r\n                    setErr(\"Invalid account number\")\r\n                    setFound(false);\r\n                }\r\n            })\r\n            .catch(error=>{\r\n                setErr(\"Invalid account number\")\r\n                setFound(false);\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleInput=e=>{\r\n        setSearch(e.target.value)\r\n    }\r\n    return(        \r\n        <>\r\n        <div style={{paddingLeft:\"20px\"}}>\r\n       <br/>\r\n        <div className=\"form-group form-inline\">\r\n            <label style={{color:\"white\"}}>Account No: </label>\r\n            <input type=\"text\" pattern=\"[0-9]{5,10}\" value={search} onChange={handleInput} className=\"form-control ml-2\" name=\"accno\" placeholder=\"Account Number\" />\r\n            <button type=\"button\" onClick={handleSearch} className=\"btn btn-primary ml-2\">Search</button>                \r\n        </div>\r\n        {found ? (\r\n            <>\r\n            <div className=\"card shadow\" style={{backgroundColor:\"#28275C\"}}>\r\n                <div className=\"card-body\">\r\n            <table className=\"table\">\r\n                <tbody>\r\n                <tr>\r\n                    <th rowSpan=\"3\">\r\n                    </th>\r\n                    <th>Account No</th>\r\n                    <th>{account.accno}</th>\r\n                    <th>Account Type</th>\r\n                    <th>{account.actype}</th>\r\n                </tr>\r\n                <tr>\r\n                    <th>Customer Name</th>\r\n                    <th>{account.cname}</th>\r\n                    <th>Address</th>\r\n                    <th>{account.address}</th>\r\n                </tr>\r\n                <tr>\r\n                    <th>Available Balance</th>\r\n                    <th>&#8377; {account.balance}</th>\r\n                    <th>Active</th>\r\n                    <th>{account.active}</th>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n            </div>\r\n            </div>\r\n            <div className=\"mb-3\"></div>\r\n            </>\r\n        ):(<h5 className=\"text-danger\">{err}</h5>)}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SearchAccount;"]},"metadata":{},"sourceType":"module"}