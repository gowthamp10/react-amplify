{"ast":null,"code":"import _defineProperty from\"/home/ubuntu/Documents/BankingAppFinal/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/ubuntu/Documents/BankingAppFinal/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/ubuntu/Documents/BankingAppFinal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import uservalidation from\"../uservalidation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterPage(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedPhoto=_useState4[0],setSelectedPhoto=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),file=_useState6[0],setFile=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),selectedSignPhoto=_useState8[0],setSelectedSignPhoto=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),signfile=_useState10[0],setSignFile=_useState10[1];var _useState11=useState({}),_useState12=_slicedToArray(_useState11,2),errors=_useState12[0],setErrors=_useState12[1];var navigate=useNavigate();var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),submitted=_useState14[0],setSubmitted=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),emailerr=_useState16[0],setEmailErr=_useState16[1];var handleInput=function handleInput(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var handleFileInput=function handleFileInput(e){setSelectedPhoto(e.target.files[0]);setFile(URL.createObjectURL(e.target.files[0]));handleInput(e);};var handleSignFileInput=function handleSignFileInput(e){setSelectedSignPhoto(e.target.files[0]);setSignFile(URL.createObjectURL(e.target.files[0]));handleInput(e);};var handleVerify=function handleVerify(e){axios.get(\"http://localhost:8090/api/users/verify?email=\"+e.target.value).then(function(resp){console.log(resp.data);if(resp.data.status===\"error\"){alert(resp.data.error);}resp.data.status===\"error\"?setEmailErr(resp.data.error):setEmailErr(null);}).catch(function(err){console.log(err);});};var handleSubmit=function handleSubmit(e){e.preventDefault();setErrors(uservalidation(user));if(Object.keys(errors).length===0){console.log(user);var formData=new FormData();formData.append(\"photo\",selectedPhoto);formData.append(\"sign\",selectedSignPhoto);formData.append(\"cname\",user.name);formData.append(\"address\",user.address);formData.append(\"gender\",user.gender);formData.append(\"adhar\",user.adhar);formData.append(\"phone\",user.phone);formData.append(\"email\",user.email);formData.append(\"dob\",user.dob);formData.append(\"pwd\",user.pwd);formData.append(\"source\",\"Self\");console.log(user);axios.post(\"http://localhost:8090/api/customers\",formData).then(function(resp){console.log(resp);setUser(null);setSelectedPhoto(null);setSelectedSignPhoto(null);e.target.reset();alert(\"Customer registered successfully\");//navigate(\"/login\")\n}).catch(function(error){return console.log(\"Error\",error);});}};useEffect(function(){console.log(errors);},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container pt-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card shadow pt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-center p-2\",children:\"Register\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-2 offset-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",value:user===null||user===void 0?void 0:user.photo,name:\"photo\",onChange:handleFileInput,className:\"form-control-file\",accept:\".png\"}),(errors===null||errors===void 0?void 0:errors.photo)&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger float-right\",children:errors===null||errors===void 0?void 0:errors.photo}),selectedSignPhoto?/*#__PURE__*/_jsx(\"img\",{className:\"img-thumbnail\",style:{height:\"90px\",width:\"100%\"},src:signfile,alt:\"Photo\"}):/*#__PURE__*/_jsx(\"img\",{src:'',className:\"img-thumbnail\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"p-2\",children:\"Sign\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",value:user===null||user===void 0?void 0:user.sign,name:\"sign\",className:\"form-control-file\",accept:\".png\",onChange:handleSignFileInput}),(errors===null||errors===void 0?void 0:errors.sign)&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger float-right\",children:errors===null||errors===void 0?void 0:errors.sign})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6 offset-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-4 form-control-label\",children:\"Name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:user===null||user===void 0?void 0:user.name,onChange:handleInput,className:\"form-control\"}),(errors===null||errors===void 0?void 0:errors.name)&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger float-right\",children:errors===null||errors===void 0?void 0:errors.name})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-4 form-control-label\",children:\"City\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",value:user===null||user===void 0?void 0:user.address,onChange:handleInput,className:\"form-control\"}),(errors===null||errors===void 0?void 0:errors.address)&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger float-right\",children:errors===null||errors===void 0?void 0:errors.address})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-4 form-control-label\",children:\"Gender\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8\",children:[/*#__PURE__*/_jsxs(\"select\",{name:\"gender\",value:user===null||user===void 0?void 0:user.gender,onChange:handleInput,className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Gender\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Female\"})]}),(errors===null||errors===void 0?void 0:errors.gender)&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger float-right\",children:errors===null||errors===void 0?void 0:errors.gender})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-4 form-control-label\",children:\"Email Id\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:user===null||user===void 0?void 0:user.email,onBlur:handleVerify,onChange:handleInput,className:\"form-control\"}),(errors===null||errors===void 0?void 0:errors.email)&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger float-right\",children:errors===null||errors===void 0?void 0:errors.email}),emailerr&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger float-right\",children:emailerr})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-4 form-control-label\",children:\"Date of Birth\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"dob\",value:user===null||user===void 0?void 0:user.dob,onChange:handleInput,className:\"form-control\"}),(errors===null||errors===void 0?void 0:errors.dob)&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger float-right\",children:errors===null||errors===void 0?void 0:errors.dob})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-4 form-control-label\",children:\"Phone\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",maxLength:\"10\",name:\"phone\",value:user===null||user===void 0?void 0:user.phone,onChange:handleInput,className:\"form-control\"}),(errors===null||errors===void 0?void 0:errors.phone)&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger float-right\",children:errors===null||errors===void 0?void 0:errors.phone})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-4 form-control-label\",children:\"Aadhar No\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",maxLength:\"12\",name:\"adhar\",value:user===null||user===void 0?void 0:user.adhar,onChange:handleInput,className:\"form-control\"}),(errors===null||errors===void 0?void 0:errors.adhar)&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger float-right\",children:errors===null||errors===void 0?void 0:errors.adhar})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-4 form-control-label\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"pwd\",value:user===null||user===void 0?void 0:user.pwd,onChange:handleInput,className:\"form-control\"}),(errors===null||errors===void 0?void 0:errors.pwd)&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger float-right\",children:errors===null||errors===void 0?void 0:errors.pwd})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-4 form-control-label\",children:\"Confirm Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"cpwd\",value:user===null||user===void 0?void 0:user.cpwd,onChange:handleInput,className:\"form-control\"}),(errors===null||errors===void 0?void 0:errors.cpwd)&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger float-right\",children:errors===null||errors===void 0?void 0:errors.cpwd})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Register Now\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})]})]})})]})})})});}export default RegisterPage;","map":{"version":3,"sources":["/home/ubuntu/Documents/BankingAppFinal/src/components/RegisterPage.js"],"names":["axios","useEffect","useState","Link","useNavigate","uservalidation","RegisterPage","user","setUser","selectedPhoto","setSelectedPhoto","file","setFile","selectedSignPhoto","setSelectedSignPhoto","signfile","setSignFile","errors","setErrors","navigate","submitted","setSubmitted","emailerr","setEmailErr","handleInput","e","target","name","value","handleFileInput","files","URL","createObjectURL","handleSignFileInput","handleVerify","get","then","resp","console","log","data","status","alert","error","catch","err","handleSubmit","preventDefault","Object","keys","length","formData","FormData","append","address","gender","adhar","phone","email","dob","pwd","post","reset","photo","height","width","sign","cpwd"],"mappings":"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","sourcesContent":["import axios from \"axios\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { Link,useNavigate } from \"react-router-dom\"\r\nimport uservalidation from \"../uservalidation\"\r\n\r\nfunction RegisterPage(){\r\n    const [user,setUser]=useState(null)\r\n    const [selectedPhoto,setSelectedPhoto]=useState(null)\r\n    const [file,setFile]=useState(null)\r\n    const [selectedSignPhoto,setSelectedSignPhoto]=useState(null)\r\n    const [signfile,setSignFile]=useState(null)\r\n    const [errors,setErrors]=useState({})\r\n    const navigate=useNavigate()\r\n    const [submitted,setSubmitted]=useState(false)\r\n    const [emailerr,setEmailErr]=useState(null)\r\n \r\n    const handleInput=(e)=>{\r\n        setUser({...user,[e.target.name]:e.target.value})\r\n    }\r\n\r\n    const handleFileInput=e=>{\r\n        setSelectedPhoto(e.target.files[0])\r\n        setFile(URL.createObjectURL(e.target.files[0]))    \r\n        handleInput(e)    \r\n    }\r\n    const handleSignFileInput=e=>{\r\n        setSelectedSignPhoto(e.target.files[0])\r\n        setSignFile(URL.createObjectURL(e.target.files[0]))\r\n        handleInput(e)\r\n    }\r\n\r\n    const handleVerify = e=>{\r\n        axios.get(\"http://localhost:8090/api/users/verify?email=\"+e.target.value)\r\n        .then(resp=>{\r\n            console.log(resp.data)\r\n            if(resp.data.status===\"error\"){\r\n                alert(resp.data.error)\r\n            }\r\n            resp.data.status===\"error\" ? setEmailErr(resp.data.error) : setEmailErr(null)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const handleSubmit=(e)=>{\r\n        e.preventDefault()\r\n        setErrors(uservalidation(user)) \r\n        \r\n        if(Object.keys(errors).length===0){\r\n            console.log(user)\r\n            const formData=new FormData()\r\n            formData.append(\"photo\",selectedPhoto)\r\n            formData.append(\"sign\",selectedSignPhoto)\r\n            formData.append(\"cname\",user.name)\r\n            formData.append(\"address\",user.address)\r\n            formData.append(\"gender\",user.gender)\r\n            formData.append(\"adhar\",user.adhar)\r\n            formData.append(\"phone\",user.phone)\r\n            formData.append(\"email\",user.email)\r\n            formData.append(\"dob\",user.dob)\r\n            formData.append(\"pwd\",user.pwd)\r\n\r\n            formData.append(\"source\",\"Self\")\r\n\r\n            console.log(user)\r\n            axios.post(\"http://localhost:8090/api/customers\",formData)\r\n            .then(resp=>{\r\n                console.log(resp)\r\n                setUser(null)\r\n                setSelectedPhoto(null)\r\n                setSelectedSignPhoto(null)\r\n                e.target.reset()\r\n                alert(\"Customer registered successfully\")\r\n                //navigate(\"/login\")\r\n            })\r\n            .catch(error=>console.log(\"Error\",error))            \r\n        }    \r\n    }\r\n\r\n    useEffect(()=>{        \r\n        console.log(errors)  \r\n    },[])\r\n    return(\r\n        <div className=\"login\">\r\n        <div className=\"container pt-3\">\r\n        <div className=\"card shadow pt-3\">\r\n        <div className=\"card-body\">\r\n        <h4 className=\"text-center p-2\">\r\n            Register\r\n        </h4><br/>\r\n        <form onSubmit={handleSubmit}>\r\n            <div className=\"row\">\r\n                <div className=\"col-sm-2 offset-1\">\r\n                    \r\n                     \r\n                    <input type=\"file\" value={user?.photo} name=\"photo\" onChange={handleFileInput} className=\"form-control-file\" accept=\".png\" />\r\n                    {errors?.photo && <small className=\"text-danger float-right\">{errors?.photo}</small>}\r\n\r\n                    {selectedSignPhoto ? <img className=\"img-thumbnail\" style={{height:\"90px\",width:\"100%\"}} src={signfile} alt=\"Photo\" /> : \r\n                    <img src={''} className=\"img-thumbnail\" />} \r\n                    \r\n                    <h5 className=\"p-2\">Sign</h5>\r\n                    <input type=\"file\" value={user?.sign} name=\"sign\" className=\"form-control-file\" accept=\".png\"  onChange={handleSignFileInput}/>\r\n                    {errors?.sign && <small className=\"text-danger float-right\">{errors?.sign}</small>}\r\n                </div>\r\n                <div className=\"col-sm-6 offset-1\">\r\n                    <div className=\"form-group form-row\">\r\n                        <label className=\"col-sm-4 form-control-label\">Name</label>\r\n                        <div className=\"col-sm-8\">\r\n                            <input type=\"text\" name=\"name\" value={user?.name} onChange={handleInput} className=\"form-control\" />\r\n                            {errors?.name && <small className=\"text-danger float-right\">{errors?.name}</small>}                            \r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div className=\"form-group form-row\">\r\n                        <label className=\"col-sm-4 form-control-label\">City</label>\r\n                        <div className=\"col-sm-8\">\r\n                            <input type=\"text\" name=\"address\" value={user?.address} onChange={handleInput} className=\"form-control\" />\r\n                            {errors?.address && <small className=\"text-danger float-right\">{errors?.address}</small>}\r\n                        </div>                        \r\n                    </div>\r\n                    <div className=\"form-group form-row\">\r\n                        <label className=\"col-sm-4 form-control-label\">Gender</label>\r\n                        <div className=\"col-sm-8\">\r\n                            <select name=\"gender\" value={user?.gender} onChange={handleInput} className=\"form-control\">\r\n                                <option value=\"\">Select Gender</option>\r\n                                <option>Male</option>     \r\n                                <option>Female</option>     \r\n                            </select> \r\n                            {errors?.gender && <small className=\"text-danger float-right\">{errors?.gender}</small>}                      \r\n                        </div>                        \r\n                    </div>\r\n                    <div className=\"form-group form-row\">\r\n                        <label className=\"col-sm-4 form-control-label\">Email Id</label>\r\n                        <div className=\"col-sm-8\">\r\n                            <input type=\"email\" name=\"email\" value={user?.email} onBlur={handleVerify} onChange={handleInput} className=\"form-control\" />\r\n                            {errors?.email && <small className=\"text-danger float-right\">{errors?.email}</small>}\r\n                            {emailerr && <small className=\"text-danger float-right\">{emailerr}</small>}\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div className=\"form-group form-row\">\r\n                        <label className=\"col-sm-4 form-control-label\">Date of Birth</label>\r\n                        <div className=\"col-sm-8\">\r\n                            <input type=\"date\" name=\"dob\" value={user?.dob} onChange={handleInput} className=\"form-control\" />\r\n                            {errors?.dob && <small className=\"text-danger float-right\">{errors?.dob}</small>}\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div className=\"form-group form-row\">\r\n                        <label className=\"col-sm-4 form-control-label\">Phone</label>\r\n                        <div className=\"col-sm-8\">\r\n                            <input type=\"text\" maxLength=\"10\" name=\"phone\" value={user?.phone} onChange={handleInput} className=\"form-control\" />\r\n                            {errors?.phone && <small className=\"text-danger float-right\">{errors?.phone}</small>}\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div className=\"form-group form-row\">\r\n                        <label className=\"col-sm-4 form-control-label\">Aadhar No</label>\r\n                        <div className=\"col-sm-8\">\r\n                            <input type=\"text\" maxLength=\"12\" name=\"adhar\" value={user?.adhar} onChange={handleInput} className=\"form-control\" />\r\n                            {errors?.adhar && <small className=\"text-danger float-right\">{errors?.adhar}</small>}\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div className=\"form-group form-row\">\r\n                        <label className=\"col-sm-4 form-control-label\">Password</label>\r\n                        <div className=\"col-sm-8\">\r\n                            <input type=\"password\" name=\"pwd\" value={user?.pwd} onChange={handleInput} className=\"form-control\" />\r\n                            {errors?.pwd && <small className=\"text-danger float-right\">{errors?.pwd}</small>}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group form-row\">\r\n                        <label className=\"col-sm-4 form-control-label\">Confirm Password</label>\r\n                        <div className=\"col-sm-8\">\r\n                            <input type=\"password\" name=\"cpwd\" value={user?.cpwd} onChange={handleInput} className=\"form-control\" />\r\n                            {errors?.cpwd && <small className=\"text-danger float-right\">{errors?.cpwd}</small>}\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"btn btn-primary\">Register Now</button><br/><br/>\r\n                    <h6>Already have an account? <Link to=\"/login\">Login</Link></h6>\r\n                </div>\r\n                </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RegisterPage;"]},"metadata":{},"sourceType":"module"}